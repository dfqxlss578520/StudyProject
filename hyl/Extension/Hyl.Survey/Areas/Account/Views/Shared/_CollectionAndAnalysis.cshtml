@using Hyl.Core.Domain.Survey;
@using Hyl.Core.Domain.Survey.ViewModel;
@model CollectionAndAnalysisViewModel
<div class="creatgeSurveyStepBody">
    <div class="creatgeSurveyStepContent bodyCenter">
        <ul class="createSsUl">
            <li>
                <a href="" class="clickHideMenu csscStep csscStep4"><span class="csscStepLeft">&nbsp;</span><span class="csscStepCenter"> 设计问卷</span><span class="csscStepRight">&nbsp;</span></a>
                <div class="a-w-sel">
                    <div class="w-sel" style="margin-top: 4px;">
                        <div class="selc">
                            <div class="selcc tbtag">
                                <div class="seli"><a class="nx-1 sur_collectSet" href="@Url.Action("PrePublish","Survey",new {surveyId = Model.SurveyId, editstyle="rule" })">收集规则</a></div>
                                <div class="seli"><a class="nx-2" href="@Url.Action("PrePublish","Survey",new {surveyId = Model.SurveyId, editstyle="style" })">样式设置</a></div>
                                <div class="seli"><a class="nx-6 sur_edit" href="@Url.Action("Index","SurveyDesign",new {surveyId = Model.SurveyId })">问卷编辑</a></div>
                            </div>
                        </div>
                    </div>
                </div>
            </li>
            @if (CollectionAndAnalysis.Collection == Model.CollectionAndAnalysis) // 数据收集
            {
                <li><span class="csscStep csscStepLine"><span class="csscStepLeft">&nbsp;</span><span class="csscStepRight">&nbsp;</span></span></li>
                <li>
                    <a href="@Url.Action("Share","Survey",new { surveyId = Model.SurveyId})" class="clickHideMenu csscStep csscStep5 active">
                        <span class="csscStepLeft">&nbsp;</span>
                        <span class="csscStepCenter">数据收集</span>
                        <span class="csscStepRight">&nbsp;</span>
                    </a>
                </li>
                <li><span class="csscStep csscStepLine"><span class="csscStepLeft">&nbsp;</span><span class="csscStepRight">&nbsp;</span></span></li>
                <li>
                    <a href="@Url.Action("Index","Report",new { surveyId = Model.SurveyId})" class="clickHideMenu csscStep csscStep6">
                        <span class="csscStepLeft">&nbsp;</span>
                        <span class="csscStepCenter">数据分析</span>
                        <span class="csscStepRight">&nbsp;</span>
                    </a>
                    <div class="a-w-sel">
                        <div class="w-sel" style="margin-top: 4px;margin-left: 15px;">
                            <div class="selc">
                                <div class="selcc tbtag">
                                    <div class="seli"><a class="nx-1" href="@Url.Action("Index","Report",new { surveyId = Model.SurveyId})">默认报告</a></div>
                                    <div class="seli"><a class="nx-2" href="@Url.Action("Original","Report",new { surveyId = Model.SurveyId})">原始数据</a></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </li>
            }
            else if (CollectionAndAnalysis.Analysis == Model.CollectionAndAnalysis)  //数据分析
            {
                <li><span class="csscStep csscStepLine"><span class="csscStepLeft">&nbsp;</span><span class="csscStepRight">&nbsp;</span></span></li>
                <li>
                    <a href="@Url.Action("Share","Survey",new { surveyId = Model.SurveyId})" class="clickHideMenu csscStep csscStep5">
                        <span class="csscStepLeft" style="width: 36px">&nbsp;</span>
                        <span class="csscStepCenter">数据收集</span>
                        <span class="csscStepRight">&nbsp;</span>
                    </a>
                    <div class="a-w-sel">
                        <div class="w-sel" style="margin-top: 4px;">
                            <div class="selc">
                                <div class="selcc tbtag">
                                    <div class="seli"><a class="nx-1" href="@Url.Action("Share","Survey",new { surveyId = Model.SurveyId ,act= "publish" })">答卷地址</a></div>
                                    <div class="seli"><a class="nx-2" href="@Url.Action("Share","Survey",new { surveyId = Model.SurveyId ,act= "share" })">社交分享</a></div>
                                    <div class="seli"><a class="nx-3" href="@Url.Action("Share","Survey",new { surveyId = Model.SurveyId ,act= "sitecomp" })">网站组件</a></div>
                                    <div class="seli"><a class="nx-3" href="@Url.Action("Share","Survey",new { surveyId = Model.SurveyId ,act= "weixin" })">微信收集</a></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </li>
                <li><span class="csscStep csscStepLine"><span class="csscStepLeft">&nbsp;</span><span class="csscStepRight">&nbsp;</span></span></li>
                <li>
                    <a href="@Url.Action("Index","Report",new { surveyId = Model.SurveyId})" class="clickHideMenu csscStep csscStep6 active">
                        <span class="csscStepLeft" style="width: 36px">&nbsp;</span>
                        <span class="csscStepCenter">数据分析</span>
                    </a>
                </li>
            }
        </ul>
    </div>
</div>

@if (CollectionAndAnalysis.Collection == Model.CollectionAndAnalysis)
{
    <div style="">
        <div class="main-tabs-content bodyCenter">
            <div class="tab-content">
                <div class="tab-content-collectTab">
                    <a data-divid="publish" class="collectTab tabItem_1 active"><span class="collectTabItemLeft">&nbsp;</span><span>答卷地址</span></a>
                    <a data-divid="share" class="collectTab tabItem_4"><span class="collectTabItemLeft">&nbsp;</span><span>社交分享</span></a>
                    <a data-divid="sitecomp" class="collectTab tabItem_5"><span class="collectTabItemLeft">&nbsp;</span><span>网站组件</span></a>
                    <a data-divid="weixin" class="collectTab tabItem_2"><span class="collectTabItemLeft">&nbsp;</span><span>微信收集</span></a>
                </div>
            </div>
        </div>
    </div>
}
else if (CollectionAndAnalysis.Analysis == Model.CollectionAndAnalysis)
{
    var action = ViewContext.RouteData.GetRequiredString("action").ToLower();
    <div style="">
        <div class="main-tabs-content bodyCenter">
            <div class="tab-content">
                <div class="tab-content-collectTab">
                    <a href="@Url.Action("Index", "Report", new { surveyId = Model.SurveyId })" class="collectTab tabItem_1 @(action == "index" ? "active" : string.Empty)">
                    <span class="collectTabItemLeft">&nbsp;</span><span>默认报告</span>
                    </a>
                    <a href="@Url.Action("Original", "Report", new { surveyId = Model.SurveyId })" class="collectTab tabItem_3 @(action == "original" ? "active" : string.Empty)">
                        <span class="collectTabItemLeft">&nbsp;</span><span>原始数据</span>
                    </a>
                    <a href="#" class="collectTab tabItem_3" style="display: none;">
                        <span class="collectTabItemLeft">&nbsp;</span><span>问卷日志</span>
                    </a>
                </div>
            </div>
        </div>
    </div>

}